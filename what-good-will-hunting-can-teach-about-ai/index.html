<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>The Sistine Chapel Problem - Jermain C. Kaminski</title><meta name="description" content="In a time when Large Language Models (LLM) can write beautiful essays and solve hard problems in seconds, educators have to ask themselves a basic question: what is the most important thing about learning? The answer, which may surprise you, can be found in a park bench conversation from a 1997 movie (video)."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://jermainkaminski.com/media/plugins/staticSearch/static.search.min.css"><link rel="canonical" href="https://jermainkaminski.com/what-good-will-hunting-can-teach-about-ai/"><meta property="og:title" content="The Sistine Chapel Problem"><meta property="og:image" content="https://jermainkaminski.com/media/posts/19/Will20Hunting.jpg.webp"><meta property="og:image:width" content="1280"><meta property="og:image:height" content="720"><meta property="og:site_name" content="Jermain C. Kaminski"><meta property="og:description" content="In a time when Large Language Models (LLM) can write beautiful essays and solve hard problems in seconds, educators have to ask themselves a basic question: what is the most important thing about learning? The answer, which may surprise you, can be found in a park bench conversation from a 1997 movie (video)."><meta property="og:url" content="https://jermainkaminski.com/what-good-will-hunting-can-teach-about-ai/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@jermainkaminski"><meta name="twitter:title" content="The Sistine Chapel Problem"><meta name="twitter:description" content="In a time when Large Language Models (LLM) can write beautiful essays and solve hard problems in seconds, educators have to ask themselves a basic question: what is the most important thing about learning? The answer, which may surprise you, can be found in a park bench conversation from a 1997 movie (video)."><meta name="twitter:image" content="https://jermainkaminski.com/media/posts/19/Will20Hunting.jpg.webp"><link rel="alternate" type="application/atom+xml" href="https://jermainkaminski.com/feed.xml" title="Jermain C. Kaminski - RSS"><link rel="alternate" type="application/json" href="https://jermainkaminski.com/feed.json" title="Jermain C. Kaminski - JSON"><link rel="preload" href="https://jermainkaminski.com/assets/dynamic/fonts/merriweather/merriweather.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://jermainkaminski.com/assets/css/style.css?v=966481fe3252083b4e6aeb9fa6fb5254"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://jermainkaminski.com/what-good-will-hunting-can-teach-about-ai/"},"headline":"The Sistine Chapel Problem","datePublished":"2025-09-08T21:50+02:00","dateModified":"2025-09-10T10:43+02:00","image":{"@type":"ImageObject","url":"https://jermainkaminski.com/media/posts/19/Will20Hunting.jpg.webp","height":720,"width":1280},"description":"In a time when Large Language Models (LLM) can write beautiful essays and solve hard problems in seconds, educators have to ask themselves a basic question: what is the most important thing about learning? The answer, which may surprise you, can be found in a park bench conversation from a 1997 movie (video).","author":{"@type":"Person","name":"Jermain Kaminski","url":"https://jermainkaminski.com/authors/jermain-kaminski/"},"publisher":{"@type":"Organization","name":"Jermain Kaminski"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"></head><body class="post-template"><script async src="https://www.googletagmanager.com/gtag/js?id=G-LBE4T5L2DX"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LBE4T5L2DX');</script><header class="header" id="js-header"><div class="wrapper"><a class="logo" href="https://jermainkaminski.com/">Jermain C. Kaminski</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://jermainkaminski.com/here-goes-a-new-post/" target="_self">About</a></li><li><a href="https://jermainkaminski.com/research/" target="_self">Research</a></li><li><a href="https://jermainkaminski.com/research/publications/" target="_self">Publications</a></li><li><a href="https://jermainkaminski.com/speaking-and-workshops/" target="_self">Speaking</a></li><li><a href="https://jermainkaminski.com/prospective-students/" target="_self">Students</a></li><li><a href="https://jermainkaminski.com/teaching/" target="_self">Teaching</a></li><li><a href="mailto:j.kaminski@maastrichtuniversity.nl" target="_self">Contact</a></li><li><a href="https://bsky.app/profile/jermainkaminski.bsky.social">Bluesky</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="wrapper search__overlay-inner"><form action="#search" class="search__form"><input class="search__input" type="search" placeholder="Search" aria-label="Search"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Submit"><svg role="presentation" focusable="false"><use xlink:href="https://jermainkaminski.com/assets/svg/svg-map.svg#search"/></svg></button></div></div></header><main class="main post"><div class="wrapper"><div class="content"><article><header class="content__header content__header--partial"><div class="content__header--partial__left"><div><time datetime="2025-09-08T21:50" class="content__meta-date">September 8, 2025</time><h1 class="content__title">The Sistine Chapel Problem</h1><div class="author content__meta-author--partial"><img src="https://jermainkaminski.com/media/website/Jermain.jpg" loading="eager" height="1939" width="1939" class="author__avatar" alt="Jermain Kaminski"><div class="author__info"><a href="https://jermainkaminski.com/authors/jermain-kaminski/" class="invert author__name" rel="author">Jermain Kaminski</a><p>Jermain Kaminski is a researcher and professor specializing in entrepreneurship, strategy, and machine learning, with a focus on how data-driven methods can improve decision-making in innovation and early-stage ventures.</p></div></div></div></div><figure class="content__hero-image content__hero-image--partial"><img src="https://jermainkaminski.com/media/posts/19/Will20Hunting.jpg.webp" srcset="https://jermainkaminski.com/media/posts/19/responsive/Will20Hunting.jpg-xs.webp 300w, https://jermainkaminski.com/media/posts/19/responsive/Will20Hunting.jpg-sm.webp 480w, https://jermainkaminski.com/media/posts/19/responsive/Will20Hunting.jpg-md.webp 768w, https://jermainkaminski.com/media/posts/19/responsive/Will20Hunting.jpg-xl.webp 1200w, https://jermainkaminski.com/media/posts/19/responsive/Will20Hunting.jpg-xxl.webp 1600w, https://jermainkaminski.com/media/posts/19/responsive/Will20Hunting.jpg-xxxl.webp 2560w" sizes="(max-width: 2560px) 100vw, 2560px" loading="eager" height="720" width="1280" alt=""></figure></header><div class="content__inner content__entry"><p class="dropcap">In a time when Large Language Models (LLM) can write beautiful essays and solve hard problems in seconds, educators have to ask themselves a basic question: what is the most important thing about learning? The answer, which may surprise you, can be found in a <a href="https://www.youtube.com/watch?v=8GY3sO47YYo" target="_blank" rel="noopener noreferrer">park bench conversation from a 1997 movie</a> (video).</p><p class="whitespace-normal break-words">When we use an LLM to complete a task, whether it's coding, solving a modeling problem, or exploring a complex idea, we receive what appears to be a perfect product: well-structured, grammatically correct, and convincing. But this perfection masks an absence. We haven't wrestled with confused thoughts, haven't experienced the frustration of contradictions and debugging that won't resolve, haven't felt the satisfaction of finally understanding something that once seemed impenetrable.</p><p class="whitespace-normal break-words">Growth has always been imperfect by design. The crossed-out sentences, the failed attempts running code, the flash of insight amid confusion. These are not bugs in the process of thinking but features. They represent understanding being forged rather than downloaded, knowledge earned rather than accessed. This tension between information and experience, between knowing about something and knowing it, predates artificial intelligence. But what if the greatest threat isn't that we work with AI, but that we'll risk the capacity for original thought? How will we cultivate innovation and deep expertise if we, and especially so students, never experience the disorientation of not knowing? When every difficult question yields an instant, polished answer, who will develop the intellectual muscle to tackle problems that have no solutions yet? The struggle itself, the messy, frustrating, ultimately transformative process of grappling with complexity, may be where human capability actually lives. Not in the answers we produce, but in the cognitive strength we build by searching for them.</p><p class="whitespace-normal break-words"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">In my view, a more than twenty-year-old film about an intellectually talented janitor from South Boston offers an unexpected lens for understanding what we're about to lose.</span></p><h2 class="text-xl font-bold text-text-100 mt-1 -mb-0.5">What It Smells Like in the Sistine Chapel</h2><p class="whitespace-normal break-words">In <em>Good Will Hunting</em>, psychologist Sean Maguire (Robin Williams) confronts Will Hunting (Matt Damon), a brilliant but emotionally guarded young janitor who can recite facts about virtually anything, with a profound challenge about the nature of knowledge:</p><blockquote><p class="whitespace-normal break-words">"If I asked you about art, you'd probably give me the skinny on every art book ever written. Michelangelo, you know a lot about him. Life's work, political aspirations, him and the pope, sexual orientations, the whole works, right? But I'll bet you can't tell me what it smells like in the Sistine Chapel. You've never actually stood there and looked up at that beautiful ceiling."</p></blockquote><p class="whitespace-normal break-words">This scene makes clear a difference that has become very important in our time. Large Language Models, like Will in a the famous Harvard bar scene at the inception of the plot, can provide the surface on any topic: <a href="https://www.youtube.com/watch?v=LMD2vUErcYU" target="_blank" rel="noopener noreferrer">dates, facts, connections, analysis</a>. They can tell you about Michelangelo's techniques, the chapel's dimensions, the theological symbolism of each panel. But they cannot tell you what it smells like in that sacred space, the trace of incense from morning mass, how your neck aches from craning upward, or the short hush that falls over tourists as they enter the chapel. They do did not experience the occasional gasp when someone spots Adam's finger. They cannot convey how small you feel standing beneath the human-made frescoes.</p><h2 class="text-xl font-bold text-text-100 mt-1 -mb-0.5"><figure class="post__image"><img loading="lazy" src="https://jermainkaminski.com/media/posts/19/pierre-goiffon-aR_COwiGzP0-unsplash.jpg" alt="" width="1920" height="1280" sizes="(max-width: 1200px) 100vw, 1200px" srcset="https://jermainkaminski.com/media/posts/19/responsive/pierre-goiffon-aR_COwiGzP0-unsplash-xs.webp 300w, https://jermainkaminski.com/media/posts/19/responsive/pierre-goiffon-aR_COwiGzP0-unsplash-sm.webp 480w, https://jermainkaminski.com/media/posts/19/responsive/pierre-goiffon-aR_COwiGzP0-unsplash-md.webp 768w, https://jermainkaminski.com/media/posts/19/responsive/pierre-goiffon-aR_COwiGzP0-unsplash-xl.webp 1200w, https://jermainkaminski.com/media/posts/19/responsive/pierre-goiffon-aR_COwiGzP0-unsplash-xxl.webp 1600w, https://jermainkaminski.com/media/posts/19/responsive/pierre-goiffon-aR_COwiGzP0-unsplash-xxxl.webp 2560w"></figure></h2><h2 class="text-xl font-bold text-text-100 mt-1 -mb-0.5">The "How" Versus the "Why"</h2><p><a href="https://www.sciencedirect.com/science/article/pii/S0896627317305093" target="_blank" rel="noopener noreferrer">Despite large advances in neuroscience-inspired machine learning</a>, and evolutionary algorithms that taught computers to fail via <a href="https://www.sciencedirect.com/science/article/pii/S0893608022001150" target="_blank" rel="noopener noreferrer">reinforcement learning</a>, failure taught them optimization, not the weight of disappointment, not the frustration of learning. Philosophers call this the <em>explanatory gap </em>(Levine, 1983)<em>, or Dasein </em>(Heidegger, 1927);<em> </em>they process signals but never cross into sensation.</p><p class="whitespace-normal break-words">Without doubt, computers excel at the mechanics of knowledge: the <em>how</em>. They can demonstrate problem-solving steps, generate structurally sound arguments, and synthesize information from many databases it crawled or is able to access ad-hoc. This is undeniably valuable for education. Students can receive instant feedback, explore ideas at their own pace, and access personalized tutoring, complementing what we for instance do at Maastricht University in problem based learning (PBL).</p><p class="whitespace-normal break-words">Yet education, at its core, has always been about the <em>why</em>. Why does this mathematical proof matter? Why should we care about the fall of Rome? Why does this poem move us? Why do I control for collinearity with the Variance Inflation Factor (<a href="https://journals.sagepub.com/doi/abs/10.1177/10944281231216381" target="_blank" rel="noopener noreferrer">or why should I not?</a>). These questions require not just information processing but understanding. The kind of insight that emerges from struggle, contemplation, and failure.</p><p>One of my undergraduate professors for economics and philosophy, <a href="https://priddat.de/biographie/" target="_blank" rel="noopener noreferrer">Birger Priddat</a>, once ended a lecture with a claim that followed me: "By the end of your studies, you should have read a stable of books at least taller than yourself. You need to <em>experience</em> it, you need to <em>doubt</em> it, at the risk of being wrong". When Sean challenges Will about the Sistine Chapel, Sean is making Priddat's point: there is knowledge you can access and knowledge you must undergo. The stack of books taller than yourself is not about the information contained within their pages, which any LLM could summarize in seconds. It's about becoming someone different by the time you reach the top: tired, changed, and carrying not just what you've read but who you've become through reading it.</p><p>We're all experiencing this shift in how research develops. Post-GPT, theses cite more sources than ever but engage less deeply. What one might calls stratospheric scholarship, flying at 30,000 feet above the actual methodological terrain and touching topics one at a time. With LLMs, literature reviews have become remarkably comprehensive. More sources, broader coverage, impressive bibliographies. Who could resist such an efficient research assistant? Yet something subtle is lost in this efficiency: the deep, sometimes frustrating engagement with a paper's methodology, sampling, the wrestling with its limitations, the slow dawning of what it really means in context. In thesis defenses, this trade-off becomes visible: students have genuinely worked hard, used the tools available to them, yet find themselves strangers to their own citations. It's not a failure of effort but a consequence of tools that make the wrong parts easy.</p><h2 class="text-xl font-bold text-text-100 mt-1 -mb-0.5">Your Move, Chief</h2><p>In the movie, Sean continues his challenge to Will:</p><blockquote><p>You're an orphan right? You think I know the first thing about how hard your life has been, how you feel, who you are, because I read Oliver Twist?</p></blockquote><p>Here's another realisation: genuine knowledge is individualised and influenced by our individual experiences with other people. The bench scene serves as a reminder that transformative education is also relational, which is perhaps its most significant lesson. Sean's breakthrough with Will isn't the result of superior knowledge or clever reasoning. It comes from being vulnerable, from sharing his own grief over his wife's passing, and from having a real human connection. "Your move," he says, asking Will to engage authentically rather than simply reciting facts.</p><figure class="post__image"><img loading="lazy" src="https://jermainkaminski.com/media/posts/19/1HfekqjcJN1HXe2zWWGaG8g2x.jpg" alt="" width="1242" height="666" sizes="(max-width: 1200px) 100vw, 1200px" srcset="https://jermainkaminski.com/media/posts/19/responsive/1HfekqjcJN1HXe2zWWGaG8g2x-xs.webp 300w, https://jermainkaminski.com/media/posts/19/responsive/1HfekqjcJN1HXe2zWWGaG8g2x-sm.webp 480w, https://jermainkaminski.com/media/posts/19/responsive/1HfekqjcJN1HXe2zWWGaG8g2x-md.webp 768w, https://jermainkaminski.com/media/posts/19/responsive/1HfekqjcJN1HXe2zWWGaG8g2x-xl.webp 1200w, https://jermainkaminski.com/media/posts/19/responsive/1HfekqjcJN1HXe2zWWGaG8g2x-xxl.webp 1600w, https://jermainkaminski.com/media/posts/19/responsive/1HfekqjcJN1HXe2zWWGaG8g2x-xxxl.webp 2560w"></figure><p class="whitespace-normal break-words">This relational dimension, the classroom discussions where ideas spark and clash, the mentorship that shapes not just what we know but who we become, cannot be algorithmatically reproduced. Also from the educator's perspective, an LLM can provide feedback, but it cannot see the particular student before it, the thought vector one comes from, cannot recognize the moment when confusion shifts to comprehension, cannot share in the joy of discovery.</p><h2 class="text-xl font-bold text-text-100 mt-1 -mb-0.5">Desirable Difficulties</h2><p class="whitespace-normal break-words">The idea is not to banish LLMs from education. They are powerful tools that, used thoughtfully, can enhance learning. Students can use them to explore ideas, check understanding, and overcome barriers to entry in complex subjects. In my own entrepreneurship teaching, I encourage students to use text, image, and video generation methods to imagine future products and services. In causal inference, I employ LLM to look for <a href="https://github.com/py-why/pywhyllm" target="_blank" rel="noopener noreferrer">potential confounders or omitted variables</a>. That being said, we must resist the temptation to mistake the tool, a cognitive limb, for the purpose.</p><p class="whitespace-normal break-words">The key lies in preserving what cognitive scientists call <em>desirable difficulties: </em>the <em>productive</em> <em>friction</em> that actually enables learning. Possibly through <a href="https://fortune.com/2025/09/07/stanford-professor-jure-leskovec-hand-written-graded-tests-ai/" target="_blank" rel="noopener noreferrer">written exams</a>, to take a recent case in point from Jure Leskovec, Professor for Computer Science at Stanford University, one of the epicenters of LLM research. When LLMs remove all resistance from the educational process, they may inadvertently remove the very mechanisms through which understanding develops. It's the cognitive equivalent of using a GPS for every journey: efficient, certainly, but we never develop our own sense of direction. The job market might pay a premium for that very skill of being able to read a map.</p><p class="whitespace-normal break-words">Now, how might we design friction back into AI-assisted learning? Most recently, syllabi suggest students could use LLMs to explore multiple perspectives on a topic but be required to defend their own synthesis without algorithmic help. They might employ AI to generate counterarguments to their thesis, forcing them to strengthen their reasoning. </p><p>However, the most promising educational applications of AI might be those that increase rather than decrease meaningful cognitive friction, by design. Imagine an LLM that refuses to answer directly but instead guides students through productive confusion, or one that generates problems tailored to sit just beyond a student's current ability, in what <a href="https://en.wikipedia.org/wiki/Zone_of_proximal_development" target="_blank" rel="noopener noreferrer">Vygotsky</a> called the zone of <em>proximal development</em>. Or they could use LLMs as sophisticated tutors that ask Socratic questions, rather than answers, maintaining the struggle that builds intellectual muscle.</p><figure class="post__image"><img loading="lazy" src="https://jermainkaminski.com/media/posts/19/image.png" alt="" width="2001" height="1334" sizes="(max-width: 1200px) 100vw, 1200px" srcset="https://jermainkaminski.com/media/posts/19/responsive/image-xs.webp 300w, https://jermainkaminski.com/media/posts/19/responsive/image-sm.webp 480w, https://jermainkaminski.com/media/posts/19/responsive/image-md.webp 768w, https://jermainkaminski.com/media/posts/19/responsive/image-xl.webp 1200w, https://jermainkaminski.com/media/posts/19/responsive/image-xxl.webp 1600w, https://jermainkaminski.com/media/posts/19/responsive/image-xxxl.webp 2560w"></figure><h2 class="text-xl font-bold text-text-100 mt-1 -mb-0.5">The Experience Game</h2><p>A recent <a href="https://time.com/7295195/ai-chatgpt-google-learning-school/" target="_blank" rel="noopener noreferrer">MIT study</a> that went viral claimed to show measurable IQ drops in 18-39 year old who regularly used GPT for problem-solving tasks, sparking a debate about AI's cognitive impacts. While the study's methodology and sample size invite legitimate skepticism, its central concern reflects well-established neuroscience. Research on neuroplasticity demonstrates that effortful learning, or what <a href="https://static1.squarespace.com/static/631f3333434573769b6da366/t/64513774777e291579ff8078/1683044212516/2019.01.09+Bjork.pdf" target="_blank" rel="noopener noreferrer">Bjork &amp; Bjork (2011)</a> term <em>desirable difficulties, </em>creates more robust neural pathways than passive reception of information. When we struggle with a problem, our brains form denser synaptic connections through a process neuroscientists call <a href="https://en.wikipedia.org/wiki/Long-term_potentiation" target="_blank" rel="noopener noreferrer">long-term potentiation</a>. Problem-solving engages deeper memory consolidation in the hippocampus and prefrontal cortex. <a href="https://www.sciencedirect.com/science/article/abs/pii/S0010945213001391" target="_blank" rel="noopener noreferrer">fMRI studies</a> show markedly different brain activation patterns when individuals visually engage, for instance via <a href="https://cpb-us-w2.wpmucdn.com/sites.udel.edu/dist/6/132/files/2010/11/Psychological-Science-2014-Mueller-0956797614524581-1u0h0yu.pdf" target="_blank" rel="noopener noreferrer">handwriting</a>.</p><p class="whitespace-normal break-words">As we integrate artificial intelligence into our educational systems, we might recall that moment on the bench when Sean tells Will about his late wife: "<em>Those are the things I miss the most. The little idiosyncrasies that only I know about. That's what made her my wife.</em>" His point isn't about love, it's about the irreplaceable nature of lived experience. Those idiosyncrasies couldn't be summarized or transferred; they had to be discovered through years of attention, presence, and possibly <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/joms.12890" target="_blank" rel="noopener noreferrer">serendipity</a>.</p><p>Ironically, while modern LLMs might pass Turing's <a href="https://academic.oup.com/mind/article-abstract/LIX/236/433/986238" target="_blank" rel="noopener noreferrer"><em>Imitation Game</em></a> through text, they fail what we might call the 'Sistine Chapel Test', not whether they can describe experience convincingly, but whether they've had experience at all. Turing proposed to consider the question, "<em>Can machines think?</em>." Sean asks us whether knowledge without experience is knowledge at all.</p></div><footer class="content__footer"><div class="content__inner content__footer-inner"><div class="content__updated">Updated: <time datetime="2025-09-10T10:43">September 10, 2025</time></div><div class="content__actions"><div class="content__share"><button class="content__share-button js-content__share-button" aria-label="Share"><svg width="32" height="32"><use xlink:href="https://jermainkaminski.com/assets/svg/svg-map.svg#share"></use></svg></button><div class="content__share-popup js-content__share-popup"></div></div></div></div></footer></article></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://jermainkaminski.com/test-6/" rel="prev" class="content__nav-link"><span>Previous</span><h5 class="invert">Causal Data Science Meeting</h5></a></div><div class="content__nav-next"><a href="https://jermainkaminski.com/here-goes-a-new-post/" rel="next" class="content__nav-link"><span>Next</span><h5 class="invert">Welkom! 🇳🇱 </h5></a></div></div></div></nav></main><footer class="footer s-t-2 s-b-2"><div class="wrapper footer__inner"><a class="footer__logo" href="https://jermainkaminski.com/">Jermain C. Kaminski</a><div class="footer__social"></div><ul class="footer__nav"><li><a href="https://jermainkaminski.com/here-goes-a-new-post/" target="_self">About</a></li><li><a href="https://jermainkaminski.com/research/" target="_self">Research</a></li><li><a href="https://jermainkaminski.com/research/publications/" target="_self">Publications</a></li><li><a href="https://jermainkaminski.com/speaking-and-workshops/" target="_self">Speaking</a></li><li><a href="https://jermainkaminski.com/prospective-students/" target="_self">Students</a></li><li><a href="https://jermainkaminski.com/teaching/" target="_self">Teaching</a></li><li><a href="mailto:j.kaminski@maastrichtuniversity.nl" target="_self">Contact</a></li><li><a href="https://bsky.app/profile/jermainkaminski.bsky.social">Bluesky</a></li></ul><div class="footer__copy">Powered by GitHub.</div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://jermainkaminski.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script defer="defer" src="https://jermainkaminski.com/assets/js/scripts.min.js?v=a2f166b35e58753d38a89c4cb3fb61bd"></script><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: false, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script>window.publiiStaticSearchConfig = { 
					baseURL: 'https://jermainkaminski.com',
					minCharCount: 3,
					maxResultsCount: 10,
					showPopupOnInputClick: true,
					customTriggerSelector: '',
					engineSettings: {
						tokenize: 'forward',
						charset: 'latin:extra',
						language: 'en-GB',
						cache: false,
						suggest: true
					},
					indexSettings: {
						resultsDescription: 'off',
						indexPostTitles: true,
						indexPostExcerpts: true,
						indexPostHeadings: true,
						indexPostAuthors: true,
						indexPostMetaDescription: true,
						indexPageTitles: true,
						indexPageExcerpts: true,
						indexPageHeadings: true,
						indexPageMetaDescription: true,
						indexTagNames: true,
						indexTagDescription: true,
						indexTagMetaDescription: true,
						indexPostConfig: false,
						indexPageConfig: false
					},
					translations: {
						inputPlaceholder: 'Search...',
						searchEmptyState: 'Type to start a search',
						tooShortPhraseState: 'Enter at least 3 characters to search...',
						noResults: 'No results found!',
						buttonClose: 'Close'
					}
				};</script><script src="https://jermainkaminski.com/media/plugins/staticSearch/flexsearch.bundle.js"></script><script src="https://jermainkaminski.com/media/plugins/staticSearch/static.search.min.js"></script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality.</div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.</div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>